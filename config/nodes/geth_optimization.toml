# Geth Node Optimization Configuration
# Generated by Claude Code MEV Specialist - 2025-10-13

[Ethereum.Network]
# Network configuration
network = "mainnet"
chain_id = 1
sync_mode = "snap"
gc_mode = "full"

[Ethereum.Data]
# Data directory and storage
data_dir = "/data/blockchain/storage/geth-backup"
cache_size = 8192  # Increase from 4096 to 8192 MB for better performance
max_peers = 100

[Ethereum.RPC]
# HTTP RPC configuration
http_enabled = true
http_addr = "127.0.0.1"
http_port = 8549
http_apis = ["eth", "net", "web3", "debug", "txpool"]
http_vhosts = ["localhost", "127.0.0.1"]

[Ethereum.WebSocket]
# WebSocket configuration
ws_enabled = true
ws_addr = "127.0.0.1"
ws_port = 8550
ws_apis = ["eth", "net", "web3", "debug", "txpool"]
ws_origins = ["*"]

[Ethereum.Auth]
# Authentication RPC for consensus layer
auth_rpc_addr = "127.0.0.1"
auth_rpc_port = 8554
auth_rpc_vhosts = ["localhost", "127.0.0.1"]
jwt_secret = "/data/blockchain/storage/jwt-secret-common.hex"

[Ethereum.Networking]
# P2P networking
p2p_port = 30311
discovery_port = 30311
nat_ext_ip = "51.159.82.58"

[Ethereum.Metrics]
# Metrics and monitoring
metrics_enabled = true
metrics_addr = "127.0.0.1"
metrics_port = 6069

[Ethereum.Performance]
# Performance optimization settings
sync_loop_block_limit = 1000  # Increase from default
batch_size = "2G"
db_read_concurrency = 2048
sync_parallel_state_flushing = true
torrent_download_rate = "100mb"
torrent_upload_rate = "50mb"
torrent_conns_per_file = 10
torrent_download_slots = 8

[Ethereum.TxPool]
# Transaction pool optimization
account_slots = 64  # Increase from 32
global_slots = 16384  # Increase from 8192
account_queue = 128  # Increase from 64
global_queue = 8192  # Increase from 4096
price_limit = "1000000000"
price_bump = 10
tx_lookup_limit = 0

[Ethereum.Security]
# Security settings
rpc_gas_cap = 50000000
rpc_tx_fee_cap = 100
rpc_allow_unprotected_txs = false
rpc_allow_dropped_transactions = false

[Ethereum.Logging]
# Logging configuration
verbosity = 3
log_rotate = true
log_max_age = 7
log_format = "json"

[Ethereum.MEV]
# MEV optimization settings
mev_boost = false
mev_relay_urls = []
builder_registry_url = ""

[Performance.Tuning]
# System-level performance tuning
io_priority = "high"
cpu_priority = "high"
memory_high = "8G"
memory_max = "10G"
cpu_quota = "400%"
tasks_max = 32768
limit_nofile = 1048576
limit_nproc = 32768

[Performance.Monitoring]
# Performance monitoring thresholds
max_cpu_usage = 80
max_memory_usage = 80
max_disk_usage = 90
min_peer_count = 25
max_response_time = 2000  # ms

[Performance.Alerts]
# Alert configuration
alert_enabled = true
alert_threshold_cpu = 90
alert_threshold_memory = 85
alert_threshold_disk = 95
alert_threshold_sync_stall = 300  # seconds
alert_webhook_url = ""
alert_email_recipients = []