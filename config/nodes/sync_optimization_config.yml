# Blockchain Sync Optimization Configuration
# Comprehensive settings for optimal MEV-ready sync performance

chains:
  ethereum:
    priority: 1
    mev_importance: "critical"
    sync_strategy: "checkpoint"
    resources:
      cpu_cores: 4
      memory_gb: 16
      disk_type: "nvme"
    optimizations:
      - name: "Checkpoint Sync"
        enabled: true
        endpoint: "https://checkpoint-sync.ethereum.org"
        description: "Start from recent finalized checkpoint"
      - name: "Snap Sync"
        enabled: true
        description: "Fast state sync using snapshots"
      - name: "Parallel Downloads"
        enabled: true
        workers: 8
    alerts:
      sync_threshold: 99.0
      peer_threshold: 10
      rate_threshold: 5.0

  polygon:
    priority: 2
    mev_importance: "high"
    sync_strategy: "checkpoint"
    resources:
      cpu_cores: 2
      memory_gb: 6
      disk_type: "ssd"
    optimizations:
      - name: "Heimdall Checkpoint"
        enabled: true
        description: "Use Polygon checkpoint sync"
      - name: "State Sync"
        enabled: true
        description: "Download recent state directly"
    alerts:
      sync_threshold: 98.0
      peer_threshold: 8
      rate_threshold: 3.0

  bsc:
    priority: 3
    mev_importance: "high"
    sync_strategy: "snapshot"
    resources:
      cpu_cores: 2
      memory_gb: 8
      disk_type: "ssd"
    optimizations:
      - name: "Snapshot Sync"
        enabled: true
        url: "https://snapshots.binance.org"
        description: "Download full blockchain snapshot"
      - name: "Fast Sync"
        enabled: true
        description: "Skip full validation for older blocks"
    alerts:
      sync_threshold: 97.0
      peer_threshold: 8
      rate_threshold: 2.0

  arbitrum:
    priority: 4
    mev_importance: "medium"
    sync_strategy: "snapshot"
    resources:
      cpu_cores: 2
      memory_gb: 6
      disk_type: "ssd"
    optimizations:
      - name: "Nitro Snapshot"
        enabled: true
        description: "Use Arbitrum Nitro snapshot"
      - name: "L2 Fast Sync"
        enabled: true
        description: "Optimized L2 synchronization"
    alerts:
      sync_threshold: 95.0
      peer_threshold: 5
      rate_threshold: 1.5

  optimism:
    priority: 5
    mev_importance: "medium"
    sync_strategy: "snapshot"
    resources:
      cpu_cores: 1.5
      memory_gb: 4
      disk_type: "ssd"
    optimizations:
      - name: "Bedrock Sync"
        enabled: true
        description: "Use Optimism Bedrock snapshot"
      - name: "L2 Rollup Sync"
        enabled: true
        description: "Efficient rollup data sync"
    alerts:
      sync_threshold: 95.0
      peer_threshold: 5
      rate_threshold: 1.0

  avalanche:
    priority: 6
    mev_importance: "emerging"
    sync_strategy: "normal"
    resources:
      cpu_cores: 1
      memory_gb: 4
      disk_type: "ssd"
    optimizations:
      - name: "State Sync"
        enabled: true
        description: "Avalanche state synchronization"
    alerts:
      sync_threshold: 90.0
      peer_threshold: 5
      rate_threshold: 1.0

  base:
    priority: 7
    mev_importance: "emerging"
    sync_strategy: "snapshot"
    resources:
      cpu_cores: 1
      memory_gb: 4
      disk_type: "ssd"
    optimizations:
      - name: "Base Snapshot"
        enabled: true
        description: "Use Base network snapshot"
    alerts:
      sync_threshold: 90.0
      peer_threshold: 3
      rate_threshold: 0.5

# Global optimization settings
global:
  monitoring:
    update_interval: 30  # seconds
    dashboard_port: 5000
    metrics_retention_days: 7
    
  resource_management:
    max_concurrent_syncs: 3
    cpu_throttle_threshold: 85
    memory_throttle_threshold: 85
    disk_space_threshold: 10  # GB minimum free
    
  alerts:
    email_enabled: false
    webhook_url: null
    log_level: "INFO"
    cooldown_minutes: 5
    
  mev:
    readiness_criteria:
      sync_percentage: 99.9
      min_peers: 5
      max_block_lag: 2
    priority_order:
      - ethereum
      - bsc
      - polygon
      - arbitrum
      - optimism
      - avalanche
      - base

# Network endpoints for sync verification
network_endpoints:
  ethereum: "https://eth-mainnet.alchemyapi.io/v2/demo"
  polygon: "https://polygon-rpc.com"
  bsc: "https://bsc-dataseed.binance.org"
  arbitrum: "https://arb1.arbitrum.io/rpc"
  optimism: "https://mainnet.optimism.io"
  avalanche: "https://api.avax.network/ext/bc/C/rpc"
  base: "https://mainnet.base.org"

# Performance benchmarks and targets
performance_targets:
  ethereum:
    sync_rate_bps: 10.0
    sync_time_hours: 8
    mev_readiness_time: 12
  polygon:
    sync_rate_bps: 15.0
    sync_time_hours: 4
    mev_readiness_time: 6
  bsc:
    sync_rate_bps: 12.0
    sync_time_hours: 6
    mev_readiness_time: 8
  arbitrum:
    sync_rate_bps: 8.0
    sync_time_hours: 3
    mev_readiness_time: 4
  optimism:
    sync_rate_bps: 6.0
    sync_time_hours: 2
    mev_readiness_time: 3
  avalanche:
    sync_rate_bps: 5.0
    sync_time_hours: 4
    mev_readiness_time: 6
  base:
    sync_rate_bps: 3.0
    sync_time_hours: 2
    mev_readiness_time: 3

# Emergency procedures
emergency:
  auto_restart_on_stall: true
  stall_detection_minutes: 15
  max_restart_attempts: 3
  escalation_contact: "admin@blockchain-ops.com"
  
  fallback_strategies:
    - name: "Reduce Resource Allocation"
      trigger: "high_resource_usage"
      action: "throttle_cpu_memory"
    - name: "Switch to Snapshot"
      trigger: "slow_sync_rate"
      action: "download_snapshot"
    - name: "Restart Node"
      trigger: "sync_stalled"
      action: "restart_service"