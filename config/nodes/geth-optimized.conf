# Enterprise Geth Configuration for High Performance
# Based on proven patterns from blockchain infrastructure leaders
# Target: Sub-200ms response times with optimal resource utilization

[Eth]
# Network settings optimized for performance
NetworkId = 1
SyncMode = "snap"
GCMode = "full"
DatabaseCache = 8192
DatabaseFreezer = ""

# Performance-optimized transaction pool
TxPool.AccountSlots = 16
TxPool.GlobalSlots = 10000
TxPool.AccountQueue = 64
TxPool.GlobalQueue = 5000
TxPool.PriceLimit = 1
TxPool.PriceBump = 10
TxPool.Lifetime = "3h0m0s"

# Connection and peer management
MaxPeers = 100
MaxPendingPeers = 0
BootNodes = []
StaticNodes = []
TrustedNodes = []
ListenAddr = ":30303"
EnableMsgEvents = false

# Mining configuration (disabled for RPC nodes)
MinerGasFloor = 8000000
MinerGasCeil = 8000000
MinerGasPrice = 1000000000
MinerRecommit = "3s"
MinerNoverify = false

# Gas estimation optimization
GPO.Blocks = 20
GPO.Percentile = 60
GPO.MaxHeaderHistory = 1024
GPO.MaxBlockHistory = 1024
GPO.MaxPrice = 500000000000
GPO.IgnorePrice = 2

[Node]
# Data directory and key management
DataDir = "/data/blockchain/storage/geth"
KeyStoreDir = ""

# Logging configuration
LogLevel = 3

# P2P network configuration
P2P.MaxPeers = 100
P2P.NoDiscovery = false
P2P.BootstrapNodes = []
P2P.BootstrapNodesV5 = []
P2P.StaticNodes = []
P2P.TrustedNodes = []
P2P.ListenAddr = ":30303"
P2P.EnableMsgEvents = false

# Authentication for JSON-RPC
AuthAddr = "127.0.0.1"
AuthPort = 8551
AuthVirtualHosts = ["localhost"]

# HTTP RPC endpoint configuration
HTTPHost = "127.0.0.1"
HTTPPort = 8545
HTTPCors = ["*"]
HTTPVirtualHosts = ["localhost"]
HTTPModules = ["eth", "net", "web3", "debug", "txpool"]

# WebSocket RPC endpoint configuration  
WSHost = "127.0.0.1"
WSPort = 8546
WSOrigins = ["*"]
WSModules = ["eth", "net", "web3", "debug", "txpool"]

# GraphQL endpoint configuration
GraphQLCors = ["localhost"]
GraphQLVirtualHosts = ["localhost"]

# Database configuration optimized for SSDs
DatabaseHandles = 5000
DatabaseCache = 8192
DatabaseFreezer = ""

# Metrics and monitoring
MetricsHTTPHost = "0.0.0.0"
MetricsHTTPPort = 6060

[Node.HTTPTimeouts]
ReadTimeout = "30s"
WriteTimeout = "30s" 
IdleTimeout = "120s"

[Node.WSTimeouts]
ReadTimeout = "30s"
WriteTimeout = "30s"